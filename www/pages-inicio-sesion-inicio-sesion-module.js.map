{"version":3,"sources":["webpack:///./src/app/pages/inicio-sesion/inicio-sesion-routing.module.ts","webpack:///./src/app/pages/inicio-sesion/inicio-sesion.module.ts","webpack:///./src/app/pages/inicio-sesion/inicio-sesion.page.html","webpack:///./src/app/pages/inicio-sesion/inicio-sesion.page.scss","webpack:///./src/app/pages/inicio-sesion/inicio-sesion.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEC;AAExD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oEAAgB;KAC5B;CACF,CAAC;AAMF;IAAA;IAA4C,CAAC;IAAhC,6BAA6B;QAJzC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,6BAA6B,CAAG;IAAD,oCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBD;AACM;AACF;AAEA;AAEkC;AAEvB;AAYxD;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QATlC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,2FAA6B;aAC9B;YACD,YAAY,EAAE,CAAC,oEAAgB,CAAC;SACjC,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;ACpBnC,oLAAoL,uIAAuI,oBAAoB,mBAAmB,6cAA6c,IAAI,oiCAAoiC,wQAAwQ,wI;;;;;;;;;;;ACA/lE,+BAA+B,yBAAyB,mBAAmB,EAAE,iBAAiB,yBAAyB,EAAE,eAAe,mBAAmB,mBAAmB,8BAA8B,qBAAqB,kCAAkC,mBAAmB,EAAE,iBAAiB,0BAA0B,oBAAoB,sBAAsB,eAAe,mBAAmB,sBAAsB,uBAAuB,EAAE,iBAAiB,yBAAyB,mBAAmB,mBAAmB,qBAAqB,EAAE,+CAA+C,2jD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAthB;AAEb;AACiB;AACzB;AACA;AAWzC;IAcE,0BAAoB,eAAgC,EAAS,SAA0B,EAAU,MAAc,EAAU,OAAgB;QAArH,oBAAe,GAAf,eAAe,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,YAAO,GAAP,OAAO,CAAS;QAVzI,YAAO,GAAG;YACR,YAAY;YACZ,cAAc;YACd,KAAK,EAAE,6BAA6B;YACpC,QAAQ,EAAE,eAAe;SAC1B;QAED,eAAU,GAAG,KAAK,CAAC;QACnB,UAAK,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAGxE;;;;;;;;;;;;;UAaE;IACF,CAAC;IAED,mCAAQ,GAAR;IACA,CAAC;IAED,mCAAQ,GAAR,UAAS,UAAkB;QAA3B,iBA0BC;QAxBA,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAEhE,IAAI,CAAC,QAAQ;aACZ,IAAI,CAAC,cAAI;YACP,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;YAC/B,IAAG,GAAG,CAAC,KAAK,IAAI,IAAI,IAAI,GAAG,CAAC,KAAK,IAAI,SAAS,EAAC;gBAC7C,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;gBACxC,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;gBACzC,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBAElC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;aAEvC;iBAAI;gBACH,KAAI,CAAC,YAAY,CAAC,gCAAgC,CAAC,CAAC;aACrD;QACH,CAAC,CAAC;aACF,KAAK,CAAC,eAAK;YACV,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;YAC/B,IAAG,KAAK,CAAC,KAAK,IAAI,IAAI,EAAC;gBACrB,KAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC;aACzC;QACF,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,UAAU;IACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA8BE;IAEI,uCAAY,GAAlB,UAAmB,GAAG;;;;;4BACN,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACxC,8BAA8B;4BAC9B,MAAM,EAAE,OAAO;4BACf,OAAO,EAAE,GAAG;4BACZ,OAAO,EAAE,CAAC,SAAS,CAAC;yBACrB,CAAC;;wBALI,KAAK,GAAG,SAKZ;wBAEF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;IAzGU,gBAAgB;QAT5B,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;;;SAG9B,CAAC;QAED,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAeqC,0EAAe,EAAoB,8DAAe,EAAkB,sDAAM,EAAmB,sDAAO;OAd9H,gBAAgB,CA2G5B;IAAD,uBAAC;CAAA;AA3G4B","file":"pages-inicio-sesion-inicio-sesion-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InicioSesionPage } from './inicio-sesion.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InicioSesionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InicioSesionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InicioSesionPageRoutingModule } from './inicio-sesion-routing.module';\n\nimport { InicioSesionPage } from './inicio-sesion.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InicioSesionPageRoutingModule\n  ],\n  declarations: [InicioSesionPage]\n})\nexport class InicioSesionPageModule {}\n","module.exports = \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar class=\\\"toolbarppl\\\">\\n    \\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button style=\\\"color: #39B1C0;\\\"\\n                       defaultHref=\\\"/\\\">\\n      </ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-title style=\\\"font-size: unset; text-align: center; margin-right: 13%;\\\">\\n      INICIAR SESIÓN\\n    </ion-title> \\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <form #formulario=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(formulario)\\\">\\n\\n    <ion-input type=\\\"email\\\" \\n                class=\\\"itemform\\\"\\n                placeholder=\\\"Email\\\"\\n                name=\\\"email\\\"\\n                [(ngModel)]=\\\"usuario.email\\\"\\n                pattern=\\\"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$\\\"\\n                required></ion-input>\\n    \\n\\n    <ion-input type=\\\"password\\\" \\n                class=\\\"itemform\\\"\\n                name=\\\"password\\\"\\n                [(ngModel)]=\\\"usuario.password\\\"\\n                required\\n                placeholder=\\\"Contraseña\\\"></ion-input>\\n    <!--\\n    <ion-button *ngIf=\\\"isLoggedIn === true\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\n      Usuario registrado con facebook\\n    </ion-button>\\n    <ion-button *ngIf=\\\"isLoggedIn === false\\\" expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"fbLogin()\\\">\\n      Registrate con\\n      <ion-icon name=\\\"logo-facebook\\\"></ion-icon>\\n    </ion-button>\\n    -->\\n    <ion-button [disabled]=\\\"formulario.invalid\\\"\\n                class=\\\"btnformppl\\\"\\n                type=\\\"submit\\\" \\n                expand=\\\"block\\\"\\n                shape=\\\"round\\\">\\n      INICIAR SESIÓN\\n    </ion-button>\\n\\n    <ion-button expand=\\\"block\\\" \\n                class=\\\"btnformsec\\\"\\n                routerLink=\\\"/forget-pass\\\"\\n                style=\\\"text-transform: none;\\\"\\n                shape=\\\"round\\\">\\n      ¿No recuerdas tu contraseña?\\n    </ion-button>\\n\\n    <ion-button expand=\\\"block\\\" \\n                class=\\\"btnformsec\\\"\\n                routerLink=\\\"/registrar-usuario\\\"\\n                style=\\\"text-transform: none;\\\"\\n                shape=\\\"round\\\">\\n      ¿No estás registrado? Crea tu perfil.\\n    </ion-button>\\n\\n  </form>  \\n</ion-content>\\n\\n\"","module.exports = \".toolbarppl {\\n  --background:#dfe6ee;\\n  color: #1F4D9A; }\\n\\nion-content {\\n  --background:#dfe6ee; }\\n\\n.itemform {\\n  font-size: 1em;\\n  color: #575756;\\n  border: 1px solid #575756;\\n  background: #fff;\\n  border-radius: 3px !important;\\n  margin-top: 5%; }\\n\\n.btnformppl {\\n  --background: #1F4D9A;\\n  margin-top: 10%;\\n  margin-bottom: 5%;\\n  width: 60%;\\n  font-size: 1em;\\n  margin-left: auto;\\n  margin-right: auto; }\\n\\n.btnformsec {\\n  --background:#39B1C0;\\n  color: #575756;\\n  margin-top: 7%;\\n  font-size: 0.9em; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rcHJvL0Rlc2t0b3AvcHJveWVjdG9zL2Rlc3Rpbm9hcnRlX2FwcC9mcm9udC1pb25pYy9zcmMvYXBwL3BhZ2VzL2luaWNpby1zZXNpb24vaW5pY2lvLXNlc2lvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBYTtFQUNiLGVBQWMsRUFDakI7O0FBRUQ7RUFDSSxxQkFBYSxFQUNoQjs7QUFFRDtFQUNJLGVBQWM7RUFDZCxlQUFjO0VBQ2QsMEJBQXlCO0VBQ3pCLGlCQUFnQjtFQUNoQiw4QkFBNkI7RUFDN0IsZUFBYyxFQUNqQjs7QUFFRDtFQUNJLHNCQUFhO0VBQ2IsZ0JBQWU7RUFDZixrQkFBaUI7RUFDakIsV0FBVTtFQUNWLGVBQWM7RUFDZCxrQkFBaUI7RUFDakIsbUJBQWtCLEVBQ3JCOztBQUVEO0VBQ0kscUJBQWE7RUFDYixlQUFhO0VBQ2IsZUFBYztFQUNkLGlCQUFnQixFQUNuQiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2luaWNpby1zZXNpb24vaW5pY2lvLXNlc2lvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudG9vbGJhcnBwbHtcclxuICAgIC0tYmFja2dyb3VuZDojZGZlNmVlO1xyXG4gICAgY29sb3I6ICMxRjREOUE7XHJcbn1cclxuXHJcbmlvbi1jb250ZW50e1xyXG4gICAgLS1iYWNrZ3JvdW5kOiNkZmU2ZWU7XHJcbn1cclxuXHJcbi5pdGVtZm9ybSB7XHJcbiAgICBmb250LXNpemU6IDFlbTtcclxuICAgIGNvbG9yOiAjNTc1NzU2O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzU3NTc1NjtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHggIWltcG9ydGFudDtcclxuICAgIG1hcmdpbi10b3A6IDUlO1xyXG59XHJcblxyXG4uYnRuZm9ybXBwbHtcclxuICAgIC0tYmFja2dyb3VuZDogIzFGNEQ5QTtcclxuICAgIG1hcmdpbi10b3A6IDEwJTtcclxuICAgIG1hcmdpbi1ib3R0b206IDUlO1xyXG4gICAgd2lkdGg6IDYwJTtcclxuICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbi5idG5mb3Jtc2Vje1xyXG4gICAgLS1iYWNrZ3JvdW5kOiMzOUIxQzA7XHJcbiAgICBjb2xvcjojNTc1NzU2O1xyXG4gICAgbWFyZ2luLXRvcDogNyU7XHJcbiAgICBmb250LXNpemU6IDAuOWVtO1xyXG59XHJcblxyXG5cclxuXHJcbiJdfQ== */\"","import { Component, OnInit, Injectable } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { AlertController } from '@ionic/angular';\nimport { UserDataService } from '../../service/user-data.service';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-inicio-sesion',\n  templateUrl: './inicio-sesion.page.html',\n  styleUrls: ['./inicio-sesion.page.scss'],\n})\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InicioSesionPage implements OnInit {\n  idUser;\n  response :Promise<any>;\n\n  usuario = {\n    //email: '',\n    //password: ''\n    email: 'empresitanosotras@gmail.com',\n    password: '19511965empre'\n  }\n\n  isLoggedIn = false;\n  users = { id: '', name: '', email: '', picture: { data: { url: '' } } };\n\n  constructor(private serviceRegister: UserDataService, public alertCtrl: AlertController, private router: Router, private storage: Storage) {\n  /*\n    fb.getLoginStatus()\n    .then(res => {\n\n      console.log(res.status);\n      if (res.status === 'connect') {\n        this.isLoggedIn = true;\n      } else {\n        this.isLoggedIn = false;\n      }\n\n    })\n    .catch(e => console.log(e));\n  */\n  }\n\n  ngOnInit(){\n  }\n\n  onSubmit(formulario: NgForm){ \n\n   this.serviceRegister.present('Validando datos..');\n   this.response = this.serviceRegister.postLoginToken(formulario); \n\n   this.response\n   .then(data => {\n      let res = JSON.parse(data.data);\n      this.serviceRegister.dismiss();\n      if(res.token != null || res.token != undefined){ \n        this.storage.set('IDUser', res.user_ID);\n        this.storage.remove('existCityInSelect');\n        this.storage.remove('mydestines');  \n        \n        this.router.navigate(['tabs/inicio']);\n        \n      }else{\n        this.presentAlert('Error al introducir los datos.');\n      }        \n    })\n   .catch(error => {\n     this.serviceRegister.dismiss();\n     if(error.error != null){\n       this.presentAlert('Error de conexi�n.');\n     }\n    });\n  }\n\n\n  //Facebook\n  /*\n  fbLogin() {\n    this.fb.login(['public_profile', 'user_friends', 'email'])\n      .then(res => {\n        if (res.status === 'connected') {\n          this.isLoggedIn = true;\n          this.getUserDetail(res.authResponse.userID);\n        } else {\n          this.isLoggedIn = false;\n        }\n      })\n      .catch(e => console.log('Error logging into Facebook', e));\n  }\n\n  getUserDetail(userid: any) {\n    this.fb.api('/' + userid + '/?fields=id,email,name,picture', ['public_profile'])\n      .then(res => {\n        console.log(res);\n        this.users = res;\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  logout() {\n    this.fb.logout()\n      .then( res => this.isLoggedIn = false)\n      .catch(e => console.log('Error logout from Facebook', e));\n  }\n  */\n\n  async presentAlert(msg) {\n    const alert = await this.alertCtrl.create({\n      //cssClass: 'my-custom-class',\n      header: 'Alert',\n      message: msg,\n      buttons: ['Aceptar']\n    });\n\n    await alert.present();\n  }\n\n}"],"sourceRoot":""}